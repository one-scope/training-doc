[戻る](../../../README.md)

# 入門 Docker

- [入門 Docker](#入門-docker)
  - [Docker とは](#docker-とは)
  - [基本的な Docker の用語](#基本的な-docker-の用語)
  - [基本的な docker の操作](#基本的な-docker-の操作)
  - [基本的な docker compose の操作](#基本的な-docker-compose-の操作)

## Docker とは

Docker はコンテナ型の仮想化ソフトウェアです。  
簡単に言うと、パソコンの中で仮想的なパソコンを動かすためのしくみのひとつです。  
コンテナ型の仮想化技術はハイパーバイザ型の仮想化技術と比較して、軽量・高速であることが特徴です。  
中でも Docker は差分ファイルシステムによるコンテナイメージの管理、Dockerfile によるコンテナイメージのコード化（Infrastructure as Code）、Docker レジストリによるコンテナイメージの共有が特徴で、現代の標準的なアプリケーションプラットフォームとして台頭しています。  
また、Devcontainer の登場により、Docker を開発環境として利用することも一般的になりました。  
Docker の発音は「どっかー」です。

## 基本的な Docker の用語

| 用語               | 説明                                                                                                                                                                                                                                                                                                                                                                                                                   |
| ------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| イメージ           | アプリケーションやサービスを実行するための必要なコードや実行環境（ライブラリやOSなど）が含まれたアーカイブのことです。<br/>イメージは、コンテナを作成するための元となり、これを基にしてアプリケーションを実行する環境を構築できます。                                                                                                                                                                                  |
| コンテナ           | Dockerイメージを実行して、アプリケーションを独立した環境で動作させるための実行中のインスタンスのことです。<br/>コンテナは、必要なソフトウェアやライブラリを含んでおり、ホストシステムと隔離された状態でアプリケーションを軽量かつ効率的に実行できます。                                                                                                                                                                |
| レジストリ         | Dockerイメージを保存、管理、共有するためのリモートリポジトリのことです。<br/>ユーザーはレジストリにイメージをプッシュ（アップロード）したり、プル（ダウンロード）したりして、他のユーザーとイメージを共有したり、必要なイメージを取得したりできます。<br/>代表的なレジストリには、Docker Hubがあります。                                                                                                               |
| DockerHub          | 公式のDockerイメージをはじめ、ユーザーがアップロードしたDockerイメージを保存・共有するためのオンラインサービスです。<br/>Docker Hubを利用することで、他のユーザーとイメージを簡単に共有したり、自分のプロジェクトに必要なイメージをダウンロードして使用できます。                                                                                                                                                      |
| Dockerfile         | Dockerイメージを作成するための設定ファイルで、実行するコマンドや必要なファイルを定義するスクリプトです。<br/>Dockerfileには、イメージのベースとなるOSやソフトウェアのインストール手順、設定ファイルのコピーなど、イメージを構築するための指示が記載されています。<br/>このファイルを使って、docker build コマンドでカスタムイメージを作成できます。                                                                    |
| ビルドコンテキスト | Dockerイメージをビルドする際に、Dockerfileが参照するファイルやディレクトリの集合のことです。<br/>ビルドコンテキストには、Dockerfile自体と、その中で指定されたファイルやディレクトリが含まれます。<br/>ビルド時にDockerは、これらのファイルをコンテナにコピーしたり、処理したりしてイメージを作成します。                                                                                                               |
| エントリーポイント | コンテナが起動した際に最初に実行されるコマンドやプロセスを指定する設定です。<br/>エントリーポイントは、コンテナの実行時に必ず実行されるため、アプリケーションの開始やサービスの起動に使用されます。<br/>Dockerfile内で指定し、コンテナが起動する際にそのコマンドが実行されます。                                                                                                                                       |
| ボリューム         | コンテナとホスト間でデータを永続的に保存・共有するためのストレージ領域です。<br/>ボリュームを使うことで、コンテナが削除されてもデータが保持され、異なるコンテナ間でデータを共有することもできます。<br/>通常、コンテナ内部のデータは一時的ですが、ボリュームを使用することでデータの永続性を確保できます。                                                                                                             |
| ポート             | コンテナと外部（ホストマシンや他のコンテナ）との間でネットワーク通信を行うための入口のことです。<br/>コンテナ内でアプリケーションが特定のポートでリスニングしている場合、ホストのポートをそのコンテナのポートにマッピング（公開）することで、外部からアクセスできるようにします。<br/>たとえば、コンテナ内で動作するウェブサーバーにホストのポート80をマッピングすることで、ブラウザからアクセスできるようになります。 |

## 基本的な docker の操作

| コマンド                              | 説明                             |
| ------------------------------------- | -------------------------------- |
| `docker exec -it コンテナID コマンド` | コンテナでコマンドを実行します。 |
| `docker kill コンテナID`              | コンテナを停止します。           |
| `docker rm コンテナID`                | コンテナを削除します。           |
| `docker run -d イメージ名`            | コンテナを起動します。           |

## 基本的な docker compose の操作

| コマンド                 | 説明                         |
| ------------------------ | ---------------------------- |
| `docker compose build`   | イメージをビルドします。     |
| `docker compose up -d`   | コンテナを起動します。       |
| `docker compose logs -f` | コンテナのログを確認します。 |
| `docker compose kill`    | コンテナを停止します。       |
| `docker compose rm`      | コンテナを削除します。       |
